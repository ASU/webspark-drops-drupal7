/*
JqTree 1.3.4

Copyright 2015 Marco Braak

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var $,DragAndDropHandler,DragElement,HitAreasGenerator,Position,VisibleNodeIterator,node_module,util,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;node_module=require("./node"),util=require("./util"),Position=node_module.Position,$=jQuery,DragAndDropHandler=function(){function DragAndDropHandler(tree_widget){this.tree_widget=tree_widget,this.hovered_area=null,this.$ghost=null,this.hit_areas=[],this.is_dragging=!1,this.current_item=null}return DragAndDropHandler.prototype.mouseCapture=function(position_info){var $element,node_element;return $element=$(position_info.target),this.mustCaptureElement($element)?this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle($element)?null:(node_element=this.tree_widget._getNodeElement($element),node_element&&this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(node_element.node)||(node_element=null)),this.current_item=node_element,this.current_item!==null):null},DragAndDropHandler.prototype.mouseStart=function(position_info){var offset;return this.refresh(),offset=$(position_info.target).offset(),this.drag_element=new DragElement(this.current_item.node,position_info.page_x-offset.left,position_info.page_y-offset.top,this.tree_widget.element),this.is_dragging=!0,this.current_item.$element.addClass("jqtree-moving"),!0},DragAndDropHandler.prototype.mouseDrag=function(position_info){var area,can_move_to;return this.drag_element.move(position_info.page_x,position_info.page_y),area=this.findHoveredArea(position_info.page_x,position_info.page_y),can_move_to=this.canMoveToArea(area),can_move_to&&area?(area.node.isFolder()||this.stopOpenFolderTimer(),this.hovered_area!==area&&(this.hovered_area=area,this.mustOpenFolderTimer(area)?this.startOpenFolderTimer(area.node):this.stopOpenFolderTimer(),this.updateDropHint())):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer()),area||this.tree_widget.options.onDragMove!=null&&this.tree_widget.options.onDragMove(this.current_item.node,position_info.original_event),!0},DragAndDropHandler.prototype.mustCaptureElement=function($element){return!$element.is("input,select")},DragAndDropHandler.prototype.canMoveToArea=function(area){var position_name;return area?this.tree_widget.options.onCanMoveTo?(position_name=Position.getName(area.position),this.tree_widget.options.onCanMoveTo(this.current_item.node,area.node,position_name)):!0:!1},DragAndDropHandler.prototype.mouseStop=function(position_info){var current_item;return this.moveItem(position_info),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas(),current_item=this.current_item,this.current_item&&(this.current_item.$element.removeClass("jqtree-moving"),this.current_item=null),this.is_dragging=!1,!this.hovered_area&&current_item&&this.tree_widget.options.onDragStop!=null&&this.tree_widget.options.onDragStop(current_item.node,position_info.original_event),!1},DragAndDropHandler.prototype.refresh=function(){this.removeHitAreas();if(this.current_item){this.generateHitAreas(),this.current_item=this.tree_widget._getNodeElementForNode(this.current_item.node);if(this.is_dragging)return this.current_item.$element.addClass("jqtree-moving")}},DragAndDropHandler.prototype.removeHitAreas=function(){return this.hit_areas=[]},DragAndDropHandler.prototype.clear=function(){return this.drag_element.remove(),this.drag_element=null},DragAndDropHandler.prototype.removeDropHint=function(){if(this.previous_ghost)return this.previous_ghost.remove()},DragAndDropHandler.prototype.removeHover=function(){return this.hovered_area=null},DragAndDropHandler.prototype.generateHitAreas=function(){var hit_areas_generator;return hit_areas_generator=new HitAreasGenerator(this.tree_widget.tree,this.current_item.node,this.getTreeDimensions().bottom),this.hit_areas=hit_areas_generator.generate()},DragAndDropHandler.prototype.findHoveredArea=function(x,y){var area,dimensions,high,low,mid;dimensions=this.getTreeDimensions();if(x<dimensions.left||y<dimensions.top||x>dimensions.right||y>dimensions.bottom)return null;low=0,high=this.hit_areas.length;while(low<high){mid=low+high>>1,area=this.hit_areas[mid];if(y<area.top)high=mid;else{if(!(y>area.bottom))return area;low=mid+1}}return null},DragAndDropHandler.prototype.mustOpenFolderTimer=function(area){var node;return node=area.node,node.isFolder()&&!node.is_open&&area.position===Position.INSIDE},DragAndDropHandler.prototype.updateDropHint=function(){var node_element;if(!this.hovered_area)return;return this.removeDropHint(),node_element=this.tree_widget._getNodeElementForNode(this.hovered_area.node),this.previous_ghost=node_element.addDropHint(this.hovered_area.position)},DragAndDropHandler.prototype.startOpenFolderTimer=function(folder){var openFolder;return openFolder=function(_this){return function(){return _this.tree_widget._openNode(folder,_this.tree_widget.options.slide,function(){return _this.refresh(),_this.updateDropHint()})}}(this),this.stopOpenFolderTimer(),this.open_folder_timer=setTimeout(openFolder,this.tree_widget.options.openFolderDelay)},DragAndDropHandler.prototype.stopOpenFolderTimer=function(){if(this.open_folder_timer)return clearTimeout(this.open_folder_timer),this.open_folder_timer=null},DragAndDropHandler.prototype.moveItem=function(position_info){var doMove,event,moved_node,position,previous_parent,target_node;if(this.hovered_area&&this.hovered_area.position!==Position.NONE&&this.canMoveToArea(this.hovered_area)){moved_node=this.current_item.node,target_node=this.hovered_area.node,position=this.hovered_area.position,previous_parent=moved_node.parent,position===Position.INSIDE&&(this.hovered_area.node.is_open=!0),doMove=function(_this){return function(){return _this.tree_widget.tree.moveNode(moved_node,target_node,position),_this.tree_widget.element.empty(),_this.tree_widget._refreshElements()}}(this),event=this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:moved_node,target_node:target_node,position:Position.getName(position),previous_parent:previous_parent,do_move:doMove,original_event:position_info.original_event}});if(!event.isDefaultPrevented())return doMove()}},DragAndDropHandler.prototype.getTreeDimensions=function(){var offset;return offset=this.tree_widget.element.offset(),{left:offset.left,top:offset.top,right:offset.left+this.tree_widget.element.width(),bottom:offset.top+this.tree_widget.element.height()+16}},DragAndDropHandler}(),VisibleNodeIterator=function(){function VisibleNodeIterator(tree){this.tree=tree}return VisibleNodeIterator.prototype.iterate=function(){var _iterateNode,is_first_node;return is_first_node=!0,_iterateNode=function(_this){return function(node,next_node){var $element,child,children_length,i,j,len,must_iterate_inside,ref;must_iterate_inside=(node.is_open||!node.element)&&node.hasChildren();if(node.element){$element=$(node.element);if(!$element.is(":visible"))return;is_first_node&&(_this.handleFirstNode(node,$element),is_first_node=!1),node.hasChildren()?node.is_open?_this.handleOpenFolder(node,$element)||(must_iterate_inside=!1):_this.handleClosedFolder(node,next_node,$element):_this.handleNode(node,next_node,$element)}if(must_iterate_inside){children_length=node.children.length,ref=node.children;for(i=j=0,len=ref.length;j<len;i=++j)child=ref[i],i===children_length-1?_iterateNode(node.children[i],null):_iterateNode(node.children[i],node.children[i+1]);if(node.is_open)return _this.handleAfterOpenFolder(node,next_node,$element)}}}(this),_iterateNode(this.tree,null)},VisibleNodeIterator.prototype.handleNode=function(node,next_node,$element){},VisibleNodeIterator.prototype.handleOpenFolder=function(node,$element){},VisibleNodeIterator.prototype.handleClosedFolder=function(node,next_node,$element){},VisibleNodeIterator.prototype.handleAfterOpenFolder=function(node,next_node,$element){},VisibleNodeIterator.prototype.handleFirstNode=function(node,$element){},VisibleNodeIterator}(),HitAreasGenerator=function(superClass){function HitAreasGenerator(tree,current_node,tree_bottom){HitAreasGenerator.__super__.constructor.call(this,tree),this.current_node=current_node,this.tree_bottom=tree_bottom}return extend(HitAreasGenerator,superClass),HitAreasGenerator.prototype.generate=function(){return this.positions=[],this.last_top=0,this.iterate(),this.generateHitAreas(this.positions)},HitAreasGenerator.prototype.getTop=function($element){return $element.offset().top},HitAreasGenerator.prototype.addPosition=function(node,position,top){var area;return area={top:top,node:node,position:position},this.positions.push(area),this.last_top=top},HitAreasGenerator.prototype.handleNode=function(node,next_node,$element){var top;return top=this.getTop($element),node===this.current_node?this.addPosition(node,Position.NONE,top):this.addPosition(node,Position.INSIDE,top),next_node===this.current_node||node===this.current_node?this.addPosition(node,Position.NONE,top):this.addPosition(node,Position.AFTER,top)},HitAreasGenerator.prototype.handleOpenFolder=function(node,$element){return node===this.current_node?!1:(node.children[0]!==this.current_node&&this.addPosition(node,Position.INSIDE,this.getTop($element)),!0)},HitAreasGenerator.prototype.handleClosedFolder=function(node,next_node,$element){var top;top=this.getTop($element);if(node===this.current_node)return this.addPosition(node,Position.NONE,top);this.addPosition(node,Position.INSIDE,top);if(next_node!==this.current_node)return this.addPosition(node,Position.AFTER,top)},HitAreasGenerator.prototype.handleFirstNode=function(node,$element){if(node!==this.current_node)return this.addPosition(node,Position.BEFORE,this.getTop($(node.element)))},HitAreasGenerator.prototype.handleAfterOpenFolder=function(node,next_node,$element){return node===this.current_node.node||next_node===this.current_node.node?this.addPosition(node,Position.NONE,this.last_top):this.addPosition(node,Position.AFTER,this.last_top)},HitAreasGenerator.prototype.generateHitAreas=function(positions){var group,hit_areas,j,len,position,previous_top;previous_top=-1,group=[],hit_areas=[];for(j=0,len=positions.length;j<len;j++)position=positions[j],position.top!==previous_top&&group.length&&(group.length&&this.generateHitAreasForGroup(hit_areas,group,previous_top,position.top),previous_top=position.top,group=[]),group.push(position);return this.generateHitAreasForGroup(hit_areas,group,previous_top,this.tree_bottom),hit_areas},HitAreasGenerator.prototype.generateHitAreasForGroup=function(hit_areas,positions_in_group,top,bottom){var area_height,area_top,i,position,position_count;position_count=Math.min(positions_in_group.length,4),area_height=Math.round((bottom-top)/position_count),area_top=top,i=0;while(i<position_count)position=positions_in_group[i],hit_areas.push({top:area_top,bottom:area_top+area_height,node:position.node,position:position.position}),area_top+=area_height,i+=1;return null},HitAreasGenerator}(VisibleNodeIterator),DragElement=function(){function DragElement(node,offset_x,offset_y,$tree){var node_name;this.offset_x=offset_x,this.offset_y=offset_y,node_name=util.html_escape(node.name),this.$element=$('<span class="jqtree-title jqtree-dragging">'+node_name+"</span>"),this.$element.css("position","absolute"),$tree.append(this.$element)}return DragElement.prototype.move=function(page_x,page_y){return this.$element.offset({left:page_x-this.offset_x,top:page_y-this.offset_y})},DragElement.prototype.remove=function(){return this.$element.remove()},DragElement}(),module.exports={DragAndDropHandler:DragAndDropHandler,DragElement:DragElement,HitAreasGenerator:HitAreasGenerator}},{"./node":5,"./util":12}],2:[function(require,module,exports){var $,ElementsRenderer,NodeElement,html_escape,node_element,util;node_element=require("./node_element"),NodeElement=node_element.NodeElement,util=require("./util"),html_escape=util.html_escape,$=jQuery,ElementsRenderer=function(){function ElementsRenderer(tree_widget){this.tree_widget=tree_widget,this.opened_icon_element=this.createButtonElement(tree_widget.options.openedIcon),this.closed_icon_element=this.createButtonElement(tree_widget.options.closedIcon)}return ElementsRenderer.prototype.render=function(from_node){return from_node&&from_node.parent?this.renderFromNode(from_node):this.renderFromRoot()},ElementsRenderer.prototype.renderFromRoot=function(){var $element;return $element=this.tree_widget.element,$element.empty(),this.createDomElements($element[0],this.tree_widget.tree.children,!0,!0,1)},ElementsRenderer.prototype.renderFromNode=function(node){var $previous_li,li;$previous_li=$(node.element),li=this.createLi(node,node.getLevel()),this.attachNodeData(node,li),$previous_li.after(li),$previous_li.remove();if(node.children)return this.createDomElements(li,node.children,!1,!1,node.getLevel()+1)},ElementsRenderer.prototype.createDomElements=function(element,children,is_root_node,is_open,level){var child,i,len,li,ul;ul=this.createUl(is_root_node),element.appendChild(ul);for(i=0,len=children.length;i<len;i++)child=children[i],li=this.createLi(child,level),ul.appendChild(li),this.attachNodeData(child,li),child.hasChildren()&&this.createDomElements(li,child.children,!1,child.is_open,level+1);return null},ElementsRenderer.prototype.attachNodeData=function(node,li){return node.element=li,$(li).data("node",node)},ElementsRenderer.prototype.createUl=function(is_root_node){var class_string,role,ul;return is_root_node?(class_string="jqtree-tree",role="tree",this.tree_widget.options.rtl&&(class_string+=" jqtree-rtl")):(class_string="",role="group"),ul=document.createElement("ul"),ul.className="jqtree_common "+class_string,ul.setAttribute("role",role),ul},ElementsRenderer.prototype.createLi=function(node,level){var is_selected,li;return is_selected=this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(node),node.isFolder()?li=this.createFolderLi(node,level,is_selected):li=this.createNodeLi(node,level,is_selected),this.tree_widget.options.onCreateLi&&this.tree_widget.options.onCreateLi(node,$(li)),li},ElementsRenderer.prototype.createFolderLi=function(node,level,is_selected){var button_classes,button_link,div,folder_classes,icon_element,is_folder,li;return button_classes=this.getButtonClasses(node),folder_classes=this.getFolderClasses(node,is_selected),node.is_open?icon_element=this.opened_icon_element:icon_element=this.closed_icon_element,li=document.createElement("li"),li.className="jqtree_common "+folder_classes,li.setAttribute("role","presentation"),div=document.createElement("div"),div.className="jqtree-element jqtree_common",div.setAttribute("role","presentation"),li.appendChild(div),button_link=document.createElement("a"),button_link.className=button_classes,button_link.appendChild(icon_element.cloneNode(!1)),button_link.setAttribute("role","presentation"),button_link.setAttribute("aria-hidden","true"),this.tree_widget.options.buttonLeft&&div.appendChild(button_link),div.appendChild(this.createTitleSpan(node.name,level,is_selected,node.is_open,is_folder=!0)),this.tree_widget.options.buttonLeft||div.appendChild(button_link),li},ElementsRenderer.prototype.createNodeLi=function(node,level,is_selected){var class_string,div,is_folder,li,li_classes;return li_classes=["jqtree_common"],is_selected&&li_classes.push("jqtree-selected"),class_string=li_classes.join(" "),li=document.createElement("li"),li.className=class_string,li.setAttribute("role","presentation"),div=document.createElement("div"),div.className="jqtree-element jqtree_common",div.setAttribute("role","presentation"),li.appendChild(div),div.appendChild(this.createTitleSpan(node.name,level,is_selected,node.is_open,is_folder=!1)),li},ElementsRenderer.prototype.createTitleSpan=function(node_name,level,is_selected,is_open,is_folder){var classes,title_span;return title_span=document.createElement("span"),classes="jqtree-title jqtree_common",is_folder&&(classes+=" jqtree-title-folder"),title_span.className=classes,title_span.setAttribute("role","treeitem"),title_span.setAttribute("aria-level",level),title_span.setAttribute("aria-selected",util.getBoolString(is_selected)),title_span.setAttribute("aria-expanded",util.getBoolString(is_open)),is_selected&&title_span.setAttribute("tabindex",0),title_span.innerHTML=this.escapeIfNecessary(node_name),title_span},ElementsRenderer.prototype.getButtonClasses=function(node){var classes;return classes=["jqtree-toggler","jqtree_common"],node.is_open||classes.push("jqtree-closed"),this.tree_widget.options.buttonLeft?classes.push("jqtree-toggler-left"):classes.push("jqtree-toggler-right"),classes.join(" ")},ElementsRenderer.prototype.getFolderClasses=function(node,is_selected){var classes;return classes=["jqtree-folder"],node.is_open||classes.push("jqtree-closed"),is_selected&&classes.push("jqtree-selected"),node.is_loading&&classes.push("jqtree-loading"),classes.join(" ")},ElementsRenderer.prototype.escapeIfNecessary=function(value){return this.tree_widget.options.autoEscape?html_escape(value):value},ElementsRenderer.prototype.createButtonElement=function(value){var div;return typeof value=="string"?(div=document.createElement("div"),div.innerHTML=value,document.createTextNode(div.innerHTML)):$(value)[0]},ElementsRenderer}(),module.exports=ElementsRenderer},{"./node_element":6,"./util":12}],3:[function(require,module,exports){var $,KeyHandler,bind=function(fn,me){return function(){return fn.apply(me,arguments)}};$=jQuery,KeyHandler=function(){function KeyHandler(tree_widget){this.selectNode=bind(this.selectNode,this),this.tree_widget=tree_widget,tree_widget.options.keyboardSupport&&$(document).bind("keydown.jqtree",$.proxy(this.handleKeyDown,this))}var DOWN,LEFT,RIGHT,UP;return LEFT=37,UP=38,RIGHT=39,DOWN=40,KeyHandler.prototype.deinit=function(){return $(document).unbind("keydown.jqtree")},KeyHandler.prototype.moveDown=function(){var node;return node=this.tree_widget.getSelectedNode(),node?this.selectNode(node.getNextNode()):!1},KeyHandler.prototype.moveUp=function(){var node;return node=this.tree_widget.getSelectedNode(),node?this.selectNode(node.getPreviousNode()):!1},KeyHandler.prototype.moveRight=function(){var node;return node=this.tree_widget.getSelectedNode(),node?node.isFolder()?node.is_open?this.selectNode(node.getNextNode()):(this.tree_widget.openNode(node),!1):!0:!0},KeyHandler.prototype.moveLeft=function(){var node;return node=this.tree_widget.getSelectedNode(),node?node.isFolder()&&node.is_open?(this.tree_widget.closeNode(node),!1):this.selectNode(node.getParent()):!0},KeyHandler.prototype.handleKeyDown=function(e){var key;if(!this.tree_widget.options.keyboardSupport)return!0;if($(document.activeElement).is("textarea,input,select"))return!0;if(!this.tree_widget.getSelectedNode())return!0;key=e.which;switch(key){case DOWN:return this.moveDown();case UP:return this.moveUp();case RIGHT:return this.moveRight();case LEFT:return this.moveLeft()}return!0},KeyHandler.prototype.selectNode=function(node){return node?(this.tree_widget.selectNode(node),this.tree_widget.scroll_handler&&!this.tree_widget.scroll_handler.isScrolledIntoView($(node.element).find(".jqtree-element"))&&this.tree_widget.scrollToNode(node),!1):!0},KeyHandler}(),module.exports=KeyHandler},{}],4:[function(require,module,exports){var $,MouseWidget,SimpleWidget,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;SimpleWidget=require("./simple.widget"),$=jQuery,MouseWidget=function(superClass){function MouseWidget(){return MouseWidget.__super__.constructor.apply(this,arguments)}return extend(MouseWidget,superClass),MouseWidget.is_mouse_handled=!1,MouseWidget.prototype._init=function(){return this.$el.bind("mousedown.mousewidget",$.proxy(this._mouseDown,this)),this.$el.bind("touchstart.mousewidget",$.proxy(this._touchStart,this)),this.is_mouse_started=!1,this.mouse_delay=0,this._mouse_delay_timer=null,this._is_mouse_delay_met=!0,this.mouse_down_info=null},MouseWidget.prototype._deinit=function(){var $document;return this.$el.unbind("mousedown.mousewidget"),this.$el.unbind("touchstart.mousewidget"),$document=$(document),$document.unbind("mousemove.mousewidget"),$document.unbind("mouseup.mousewidget")},MouseWidget.prototype._mouseDown=function(e){var result;if(e.which!==1)return;return result=this._handleMouseDown(e,this._getPositionInfo(e)),result&&e.preventDefault(),result},MouseWidget.prototype._handleMouseDown=function(e,position_info){if(MouseWidget.is_mouse_handled)return;this.is_mouse_started&&this._handleMouseUp(position_info),this.mouse_down_info=position_info;if(!this._mouseCapture(position_info))return;return this._handleStartMouse(),this.is_mouse_handled=!0,!0},MouseWidget.prototype._handleStartMouse=function(){var $document;$document=$(document),$document.bind("mousemove.mousewidget",$.proxy(this._mouseMove,this)),$document.bind("touchmove.mousewidget",$.proxy(this._touchMove,this)),$document.bind("mouseup.mousewidget",$.proxy(this._mouseUp,this)),$document.bind("touchend.mousewidget",$.proxy(this._touchEnd,this));if(this.mouse_delay)return this._startMouseDelayTimer()},MouseWidget.prototype._startMouseDelayTimer=function(){return this._mouse_delay_timer&&clearTimeout(this._mouse_delay_timer),this._mouse_delay_timer=setTimeout(function(_this){return function(){return _this._is_mouse_delay_met=!0}}(this),this.mouse_delay),this._is_mouse_delay_met=!1},MouseWidget.prototype._mouseMove=function(e){return this._handleMouseMove(e,this._getPositionInfo(e))},MouseWidget.prototype._handleMouseMove=function(e,position_info){return this.is_mouse_started?(this._mouseDrag(position_info),e.preventDefault()):this.mouse_delay&&!this._is_mouse_delay_met?!0:(this.is_mouse_started=this._mouseStart(this.mouse_down_info)!==!1,this.is_mouse_started?this._mouseDrag(position_info):this._handleMouseUp(position_info),!this.is_mouse_started)},MouseWidget.prototype._getPositionInfo=function(e){return{page_x:e.pageX,page_y:e.pageY,target:e.target,original_event:e}},MouseWidget.prototype._mouseUp=function(e){return this._handleMouseUp(this._getPositionInfo(e))},MouseWidget.prototype._handleMouseUp=function(position_info){var $document;$document=$(document),$document.unbind("mousemove.mousewidget"),$document.unbind("touchmove.mousewidget"),$document.unbind("mouseup.mousewidget"),$document.unbind("touchend.mousewidget"),this.is_mouse_started&&(this.is_mouse_started=!1,this._mouseStop(position_info))},MouseWidget.prototype._mouseCapture=function(position_info){return!0},MouseWidget.prototype._mouseStart=function(position_info){return null},MouseWidget.prototype._mouseDrag=function(position_info){return null},MouseWidget.prototype._mouseStop=function(position_info){return null},MouseWidget.prototype.setMouseDelay=function(mouse_delay){return this.mouse_delay=mouse_delay},MouseWidget.prototype._touchStart=function(e){var touch;if(e.originalEvent.touches.length>1)return;return touch=e.originalEvent.changedTouches[0],this._handleMouseDown(e,this._getPositionInfo(touch))},MouseWidget.prototype._touchMove=function(e){var touch;if(e.originalEvent.touches.length>1)return;return touch=e.originalEvent.changedTouches[0],this._handleMouseMove(e,this._getPositionInfo(touch))},MouseWidget.prototype._touchEnd=function(e){var touch;if(e.originalEvent.touches.length>1)return;return touch=e.originalEvent.changedTouches[0],this._handleMouseUp(this._getPositionInfo(touch))},MouseWidget}(SimpleWidget),module.exports=MouseWidget},{"./simple.widget":10}],5:[function(require,module,exports){var $,Node,Position;$=jQuery,Position={getName:function(position){return Position.strings[position-1]},nameToIndex:function(name){var i,j,ref;for(i=j=1,ref=Position.strings.length;1<=ref?j<=ref:j>=ref;i=1<=ref?++j:--j)if(Position.strings[i-1]===name)return i;return 0}},Position.BEFORE=1,Position.AFTER=2,Position.INSIDE=3,Position.NONE=4,Position.strings=["before","after","inside","none"],Node=function(){function Node(o,is_root,node_class){is_root==null&&(is_root=!1),node_class==null&&(node_class=Node),this.name="",this.setData(o),this.children=[],this.parent=null,is_root&&(this.id_mapping={},this.tree=this,this.node_class=node_class)}return Node.prototype.setData=function(o){var key,setName,value;setName=function(_this){return function(name){if(name!==null)return _this.name=name}}(this);if(typeof o!="object")setName(o);else for(key in o)value=o[key],key==="label"?setName(value):key!=="children"&&(this[key]=value);return null},Node.prototype.initFromData=function(data){var addChildren,addNode;return addNode=function(_this){return function(node_data){_this.setData(node_data);if(node_data.children)return addChildren(node_data.children)}}(this),addChildren=function(_this){return function(children_data){var child,j,len,node;for(j=0,len=children_data.length;j<len;j++)child=children_data[j],node=new _this.tree.node_class(""),node.initFromData(child),_this.addChild(node);return null}}(this),addNode(data),null},Node.prototype.loadFromData=function(data){var j,len,node,o;this.removeChildren();for(j=0,len=data.length;j<len;j++)o=data[j],node=new this.tree.node_class(o),this.addChild(node),typeof o=="object"&&o.children&&node.loadFromData(o.children);return null},Node.prototype.addChild=function(node){return this.children.push(node),node._setParent(this)},Node.prototype.addChildAtPosition=function(node,index){return this.children.splice(index,0,node),node._setParent(this)},Node.prototype._setParent=function(parent){return this.parent=parent,this.tree=parent.tree,this.tree.addNodeToIndex(this)},Node.prototype.removeChild=function(node){return node.removeChildren(),this._removeChild(node)},Node.prototype._removeChild=function(node){return this.children.splice(this.getChildIndex(node),1),this.tree.removeNodeFromIndex(node)},Node.prototype.getChildIndex=function(node){return $.inArray(node,this.children)},Node.prototype.hasChildren=function(){return this.children.length!==0},Node.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},Node.prototype.iterate=function(callback){var _iterate;return _iterate=function(node,level){var child,j,len,ref,result;if(node.children){ref=node.children;for(j=0,len=ref.length;j<len;j++)child=ref[j],result=callback(child,level),result&&child.hasChildren()&&_iterate(child,level+1);return null}},_iterate(this,0),null},Node.prototype.moveNode=function(moved_node,target_node,position){if(moved_node.isParentOf(target_node))return;moved_node.parent._removeChild(moved_node);if(position===Position.AFTER)return target_node.parent.addChildAtPosition(moved_node,target_node.parent.getChildIndex(target_node)+1);if(position===Position.BEFORE)return target_node.parent.addChildAtPosition(moved_node,target_node.parent.getChildIndex(target_node));if(position===Position.INSIDE)return target_node.addChildAtPosition(moved_node,0)},Node.prototype.getData=function(include_parent){var getDataFromNodes;return include_parent==null&&(include_parent=!1),getDataFromNodes=function(nodes){var data,j,k,len,node,tmp_node,v;data=[];for(j=0,len=nodes.length;j<len;j++){node=nodes[j],tmp_node={};for(k in node)v=node[k],k!=="parent"&&k!=="children"&&k!=="element"&&k!=="tree"&&Object.prototype.hasOwnProperty.call(node,k)&&(tmp_node[k]=v);node.hasChildren()&&(tmp_node.children=getDataFromNodes(node.children)),data.push(tmp_node)}return data},include_parent?getDataFromNodes([this]):getDataFromNodes(this.children)},Node.prototype.getNodeByName=function(name){return this.getNodeByCallback(function(node){return node.name===name})},Node.prototype.getNodeByCallback=function(callback){var result;return result=null,this.iterate(function(node){return callback(node)?(result=node,!1):!0}),result},Node.prototype.addAfter=function(node_info){var child_index,node;return this.parent?(node=new this.tree.node_class(node_info),child_index=this.parent.getChildIndex(this),this.parent.addChildAtPosition(node,child_index+1),typeof node_info=="object"&&node_info.children&&node_info.children.length&&node.loadFromData(node_info.children),node):null},Node.prototype.addBefore=function(node_info){var child_index,node;return this.parent?(node=new this.tree.node_class(node_info),child_index=this.parent.getChildIndex(this),this.parent.addChildAtPosition(node,child_index),typeof node_info=="object"&&node_info.children&&node_info.children.length&&node.loadFromData(node_info.children),node):null},Node.prototype.addParent=function(node_info){var child,j,len,new_parent,original_parent,ref;if(!this.parent)return null;new_parent=new this.tree.node_class(node_info),new_parent._setParent(this.tree),original_parent=this.parent,ref=original_parent.children;for(j=0,len=ref.length;j<len;j++)child=ref[j],new_parent.addChild(child);return original_parent.children=[],original_parent.addChild(new_parent),new_parent},Node.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this),this.parent=null},Node.prototype.append=function(node_info){var node;return node=new this.tree.node_class(node_info),this.addChild(node),typeof node_info=="object"&&node_info.children&&node_info.children.length&&node.loadFromData(node_info.children),node},Node.prototype.prepend=function(node_info){var node;return node=new this.tree.node_class(node_info),this.addChildAtPosition(node,0),typeof node_info=="object"&&node_info.children&&node_info.children.length&&node.loadFromData(node_info.children),node},Node.prototype.isParentOf=function(node){var parent;parent=node.parent;while(parent){if(parent===this)return!0;parent=parent.parent}return!1},Node.prototype.getLevel=function(){var level,node;level=0,node=this;while(node.parent)level+=1,node=node.parent;return level},Node.prototype.getNodeById=function(node_id){return this.id_mapping[node_id]},Node.prototype.addNodeToIndex=function(node){if(node.id!=null)return this.id_mapping[node.id]=node},Node.prototype.removeNodeFromIndex=function(node){if(node.id!=null)return delete this.id_mapping[node.id]},Node.prototype.removeChildren=function(){return this.iterate(function(_this){return function(child){return _this.tree.removeNodeFromIndex(child),!0}}(this)),this.children=[]},Node.prototype.getPreviousSibling=function(){var previous_index;return this.parent?(previous_index=this.parent.getChildIndex(this)-1,previous_index>=0?this.parent.children[previous_index]:null):null},Node.prototype.getNextSibling=function(){var next_index;return this.parent?(next_index=this.parent.getChildIndex(this)+1,next_index<this.parent.children.length?this.parent.children[next_index]:null):null},Node.prototype.getNodesByProperty=function(key,value){return this.filter(function(node){return node[key]===value})},Node.prototype.filter=function(f){var result;return result=[],this.iterate(function(node){return f(node)&&result.push(node),!0}),result},Node.prototype.getNextNode=function(include_children){var next_sibling;return include_children==null&&(include_children=!0),include_children&&this.hasChildren()&&this.is_open?this.children[0]:this.parent?(next_sibling=this.getNextSibling(),next_sibling?next_sibling:this.parent.getNextNode(!1)):null},Node.prototype.getPreviousNode=function(){var previous_sibling;return this.parent?(previous_sibling=this.getPreviousSibling(),previous_sibling?!previous_sibling.hasChildren()||!previous_sibling.is_open?previous_sibling:previous_sibling.getLastChild():this.getParent()):null},Node.prototype.getParent=function(){return this.parent?this.parent.parent?this
.parent:null:null},Node.prototype.getLastChild=function(){var last_child;return this.hasChildren()?(last_child=this.children[this.children.length-1],!last_child.hasChildren()||!last_child.is_open?last_child:last_child.getLastChild()):null},Node}(),module.exports={Node:Node,Position:Position}},{}],6:[function(require,module,exports){var $,BorderDropHint,FolderElement,GhostDropHint,NodeElement,Position,node,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;node=require("./node"),Position=node.Position,$=jQuery,NodeElement=function(){function NodeElement(node,tree_widget){this.init(node,tree_widget)}return NodeElement.prototype.init=function(node,tree_widget){return this.node=node,this.tree_widget=tree_widget,node.element||(node.element=this.tree_widget.element),this.$element=$(node.element)},NodeElement.prototype.getUl=function(){return this.$element.children("ul:first")},NodeElement.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")},NodeElement.prototype.getLi=function(){return this.$element},NodeElement.prototype.addDropHint=function(position){return position===Position.INSIDE?new BorderDropHint(this.$element):new GhostDropHint(this.node,this.$element,position)},NodeElement.prototype.select=function(){var $li,$span;return $li=this.getLi(),$li.addClass("jqtree-selected"),$li.attr("aria-selected","true"),$span=this.getSpan(),$span.attr("tabindex",0)},NodeElement.prototype.deselect=function(){var $li,$span;return $li=this.getLi(),$li.removeClass("jqtree-selected"),$li.attr("aria-selected","false"),$span=this.getSpan(),$span.attr("tabindex",-1)},NodeElement}(),FolderElement=function(superClass){function FolderElement(){return FolderElement.__super__.constructor.apply(this,arguments)}return extend(FolderElement,superClass),FolderElement.prototype.open=function(on_finished,slide){var $button,doOpen;slide==null&&(slide=!0);if(!this.node.is_open)return this.node.is_open=!0,$button=this.getButton(),$button.removeClass("jqtree-closed"),$button.html(""),$button.append(this.tree_widget.renderer.opened_icon_element.cloneNode(!1)),doOpen=function(_this){return function(){var $li,$span;return $li=_this.getLi(),$li.removeClass("jqtree-closed"),$span=_this.getSpan(),$span.attr("aria-expanded","true"),on_finished&&on_finished(),_this.tree_widget._triggerEvent("tree.open",{node:_this.node})}}(this),slide?this.getUl().slideDown("fast",doOpen):(this.getUl().show(),doOpen())},FolderElement.prototype.close=function(slide){var $button,doClose;slide==null&&(slide=!0);if(this.node.is_open)return this.node.is_open=!1,$button=this.getButton(),$button.addClass("jqtree-closed"),$button.html(""),$button.append(this.tree_widget.renderer.closed_icon_element.cloneNode(!1)),doClose=function(_this){return function(){var $li,$span;return $li=_this.getLi(),$li.addClass("jqtree-closed"),$span=_this.getSpan(),$span.attr("aria-expanded","false"),_this.tree_widget._triggerEvent("tree.close",{node:_this.node})}}(this),slide?this.getUl().slideUp("fast",doClose):(this.getUl().hide(),doClose())},FolderElement.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")},FolderElement.prototype.addDropHint=function(position){return!this.node.is_open&&position===Position.INSIDE?new BorderDropHint(this.$element):new GhostDropHint(this.node,this.$element,position)},FolderElement}(NodeElement),BorderDropHint=function(){function BorderDropHint($element){var $div,width;$div=$element.children(".jqtree-element"),width=$element.width()-4,this.$hint=$('<span class="jqtree-border"></span>'),$div.append(this.$hint),this.$hint.css({width:width,height:$div.outerHeight()-4})}return BorderDropHint.prototype.remove=function(){return this.$hint.remove()},BorderDropHint}(),GhostDropHint=function(){function GhostDropHint(node,$element,position){this.$element=$element,this.node=node,this.$ghost=$('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span><span class="jqtree_common jqtree-line"></span></li>'),position===Position.AFTER?this.moveAfter():position===Position.BEFORE?this.moveBefore():position===Position.INSIDE&&(node.isFolder()&&node.is_open?this.moveInsideOpenFolder():this.moveInside())}return GhostDropHint.prototype.remove=function(){return this.$ghost.remove()},GhostDropHint.prototype.moveAfter=function(){return this.$element.after(this.$ghost)},GhostDropHint.prototype.moveBefore=function(){return this.$element.before(this.$ghost)},GhostDropHint.prototype.moveInsideOpenFolder=function(){return $(this.node.children[0].element).before(this.$ghost)},GhostDropHint.prototype.moveInside=function(){return this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},GhostDropHint}(),module.exports={BorderDropHint:BorderDropHint,FolderElement:FolderElement,GhostDropHint:GhostDropHint,NodeElement:NodeElement}},{"./node":5}],7:[function(require,module,exports){var $,SaveStateHandler,indexOf,isInt,util;util=require("./util"),indexOf=util.indexOf,isInt=util.isInt,$=jQuery,SaveStateHandler=function(){function SaveStateHandler(tree_widget){this.tree_widget=tree_widget}return SaveStateHandler.prototype.saveState=function(){var state;state=JSON.stringify(this.getState());if(this.tree_widget.options.onSetStateFromStorage)return this.tree_widget.options.onSetStateFromStorage(state);if(this.supportsLocalStorage())return localStorage.setItem(this.getCookieName(),state);if($.cookie)return $.cookie.raw=!0,$.cookie(this.getCookieName(),state,{path:"/"})},SaveStateHandler.prototype.getStateFromStorage=function(){var json_data;return json_data=this._loadFromStorage(),json_data?this._parseState(json_data):null},SaveStateHandler.prototype._parseState=function(json_data){var state;return state=$.parseJSON(json_data),state&&state.selected_node&&isInt(state.selected_node)&&(state.selected_node=[state.selected_node]),state},SaveStateHandler.prototype._loadFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getCookieName()):$.cookie?($.cookie.raw=!0,$.cookie(this.getCookieName())):null},SaveStateHandler.prototype.getState=function(){var getOpenNodeIds,getSelectedNodeIds;return getOpenNodeIds=function(_this){return function(){var open_nodes;return open_nodes=[],_this.tree_widget.tree.iterate(function(node){return node.is_open&&node.id&&node.hasChildren()&&open_nodes.push(node.id),!0}),open_nodes}}(this),getSelectedNodeIds=function(_this){return function(){var n;return function(){var i,len,ref,results;ref=this.tree_widget.getSelectedNodes(),results=[];for(i=0,len=ref.length;i<len;i++)n=ref[i],results.push(n.id);return results}.call(_this)}}(this),{open_nodes:getOpenNodeIds(),selected_node:getSelectedNodeIds()}},SaveStateHandler.prototype.setInitialState=function(state){var must_load_on_demand;return state?(must_load_on_demand=this._openInitialNodes(state.open_nodes),this._selectInitialNodes(state.selected_node),must_load_on_demand):!1},SaveStateHandler.prototype._openInitialNodes=function(node_ids){var i,len,must_load_on_demand,node,node_id;must_load_on_demand=!1;for(i=0,len=node_ids.length;i<len;i++)node_id=node_ids[i],node=this.tree_widget.getNodeById(node_id),node&&(node.load_on_demand?must_load_on_demand=!0:node.is_open=!0);return must_load_on_demand},SaveStateHandler.prototype._selectInitialNodes=function(node_ids){var i,len,node,node_id,select_count;select_count=0;for(i=0,len=node_ids.length;i<len;i++)node_id=node_ids[i],node=this.tree_widget.getNodeById(node_id),node&&(select_count+=1,this.tree_widget.select_node_handler.addToSelection(node));return select_count!==0},SaveStateHandler.prototype.setInitialStateOnDemand=function(state,cb_finished){return state?this._setInitialStateOnDemand(state.open_nodes,state.selected_node,cb_finished):cb_finished()},SaveStateHandler.prototype._setInitialStateOnDemand=function(node_ids,selected_nodes,cb_finished){var loadAndOpenNode,loading_count,openNodes;return loading_count=0,openNodes=function(_this){return function(){var i,len,new_nodes_ids,node,node_id;new_nodes_ids=[];for(i=0,len=node_ids.length;i<len;i++)node_id=node_ids[i],node=_this.tree_widget.getNodeById(node_id),node?node.is_loading||(node.load_on_demand?loadAndOpenNode(node):_this.tree_widget._openNode(node,!1)):new_nodes_ids.push(node_id);node_ids=new_nodes_ids,_this._selectInitialNodes(selected_nodes)&&_this.tree_widget._refreshElements();if(loading_count===0)return cb_finished()}}(this),loadAndOpenNode=function(_this){return function(node){return loading_count+=1,_this.tree_widget._openNode(node,!1,function(){return loading_count-=1,openNodes()})}}(this),openNodes()},SaveStateHandler.prototype.getCookieName=function(){return typeof this.tree_widget.options.saveState=="string"?this.tree_widget.options.saveState:"tree"},SaveStateHandler.prototype.supportsLocalStorage=function(){var testSupport;return testSupport=function(){var error,error1,key;if(typeof localStorage=="undefined"||localStorage===null)return!1;try{key="_storage_test",sessionStorage.setItem(key,!0),sessionStorage.removeItem(key)}catch(error1){return error=error1,!1}return!0},this._supportsLocalStorage==null&&(this._supportsLocalStorage=testSupport()),this._supportsLocalStorage},SaveStateHandler.prototype.getNodeIdToBeSelected=function(){var state;return state=this.getStateFromStorage(),state&&state.selected_node?state.selected_node[0]:null},SaveStateHandler}(),module.exports=SaveStateHandler},{"./util":12}],8:[function(require,module,exports){var $,ScrollHandler;$=jQuery,ScrollHandler=function(){function ScrollHandler(tree_widget){this.tree_widget=tree_widget,this.previous_top=-1,this.is_initialized=!1,this._initScrollParent()}return ScrollHandler.prototype._initScrollParent=function(){var $scroll_parent,getParentWithOverflow,setDocumentAsScrollParent;return getParentWithOverflow=function(_this){return function(){var css_values,el,hasOverFlow,i,len,ref;css_values=["overflow","overflow-y"],hasOverFlow=function(el){var css_value,i,len,ref;for(i=0,len=css_values.length;i<len;i++){css_value=css_values[i];if((ref=$.css(el,css_value))==="auto"||ref==="scroll")return!0}return!1};if(hasOverFlow(_this.tree_widget.$el[0]))return _this.tree_widget.$el;ref=_this.tree_widget.$el.parents();for(i=0,len=ref.length;i<len;i++){el=ref[i];if(hasOverFlow(el))return $(el)}return null}}(this),setDocumentAsScrollParent=function(_this){return function(){return _this.scroll_parent_top=0,_this.$scroll_parent=null}}(this),this.tree_widget.$el.css("position")==="fixed"&&setDocumentAsScrollParent(),$scroll_parent=getParentWithOverflow(),$scroll_parent&&$scroll_parent.length&&$scroll_parent[0].tagName!=="HTML"?(this.$scroll_parent=$scroll_parent,this.scroll_parent_top=this.$scroll_parent.offset().top):setDocumentAsScrollParent(),this.is_initialized=!0},ScrollHandler.prototype._ensureInit=function(){if(!this.is_initialized)return this._initScrollParent()},ScrollHandler.prototype.checkScrolling=function(){var hovered_area;this._ensureInit(),hovered_area=this.tree_widget.dnd_handler.hovered_area;if(hovered_area&&hovered_area.top!==this.previous_top)return this.previous_top=hovered_area.top,this.$scroll_parent?this._handleScrollingWithScrollParent(hovered_area):this._handleScrollingWithDocument(hovered_area)},ScrollHandler.prototype._handleScrollingWithScrollParent=function(area){var distance_bottom;distance_bottom=this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-area.bottom;if(distance_bottom<20)return this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1;if(area.top-this.scroll_parent_top<20)return this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1},ScrollHandler.prototype._handleScrollingWithDocument=function(area){var distance_top;distance_top=area.top-$(document).scrollTop();if(distance_top<20)return $(document).scrollTop($(document).scrollTop()-20);if($(window).height()-(area.bottom-$(document).scrollTop())<20)return $(document).scrollTop($(document).scrollTop()+20)},ScrollHandler.prototype.scrollTo=function(top){var tree_top;return this._ensureInit(),this.$scroll_parent?this.$scroll_parent[0].scrollTop=top:(tree_top=this.tree_widget.$el.offset().top,$(document).scrollTop(top+tree_top))},ScrollHandler.prototype.isScrolledIntoView=function(element){var $element,element_bottom,element_top,view_bottom,view_top;return this._ensureInit(),$element=$(element),this.$scroll_parent?(view_top=0,view_bottom=this.$scroll_parent.height(),element_top=$element.offset().top-this.scroll_parent_top,element_bottom=element_top+$element.height()):(view_top=$(window).scrollTop(),view_bottom=view_top+$(window).height(),element_top=$element.offset().top,element_bottom=element_top+$element.height()),element_bottom<=view_bottom&&element_top>=view_top},ScrollHandler}(),module.exports=ScrollHandler},{}],9:[function(require,module,exports){var $,SelectNodeHandler;$=jQuery,SelectNodeHandler=function(){function SelectNodeHandler(tree_widget){this.tree_widget=tree_widget,this.clear()}return SelectNodeHandler.prototype.getSelectedNode=function(){var selected_nodes;return selected_nodes=this.getSelectedNodes(),selected_nodes.length?selected_nodes[0]:!1},SelectNodeHandler.prototype.getSelectedNodes=function(){var id,node,selected_nodes;if(this.selected_single_node)return[this.selected_single_node];selected_nodes=[];for(id in this.selected_nodes)node=this.tree_widget.getNodeById(id),node&&selected_nodes.push(node);return selected_nodes},SelectNodeHandler.prototype.getSelectedNodesUnder=function(parent){var id,node,selected_nodes;if(this.selected_single_node)return parent.isParentOf(this.selected_single_node)?[this.selected_single_node]:[];selected_nodes=[];for(id in this.selected_nodes)node=this.tree_widget.getNodeById(id),node&&parent.isParentOf(node)&&selected_nodes.push(node);return selected_nodes},SelectNodeHandler.prototype.isNodeSelected=function(node){return node.id?this.selected_nodes[node.id]:this.selected_single_node?this.selected_single_node.element===node.element:!1},SelectNodeHandler.prototype.clear=function(){return this.selected_nodes={},this.selected_single_node=null},SelectNodeHandler.prototype.removeFromSelection=function(node,include_children){include_children==null&&(include_children=!1);if(!node.id){if(this.selected_single_node&&node.element===this.selected_single_node.element)return this.selected_single_node=null}else{delete this.selected_nodes[node.id];if(include_children)return node.iterate(function(_this){return function(n){return delete _this.selected_nodes[node.id],!0}}(this))}},SelectNodeHandler.prototype.addToSelection=function(node){return node.id?this.selected_nodes[node.id]=!0:this.selected_single_node=node},SelectNodeHandler}(),module.exports=SelectNodeHandler},{}],10:[function(require,module,exports){var $,SimpleWidget,slice=[].slice;$=jQuery,SimpleWidget=function(){function SimpleWidget(el,options){this.$el=$(el),this.options=$.extend({},this.defaults,options)}return SimpleWidget.prototype.defaults={},SimpleWidget.prototype.destroy=function(){return this._deinit()},SimpleWidget.prototype._init=function(){return null},SimpleWidget.prototype._deinit=function(){return null},SimpleWidget.register=function(widget_class,widget_name){var callFunction,createWidget,destroyWidget,getDataKey,getWidgetData;return getDataKey=function(){return"simple_widget_"+widget_name},getWidgetData=function(el,data_key){var widget;return widget=$.data(el,data_key),widget&&widget instanceof SimpleWidget?widget:null},createWidget=function($el,options){var data_key,el,existing_widget,i,len,widget;data_key=getDataKey();for(i=0,len=$el.length;i<len;i++)el=$el[i],existing_widget=getWidgetData(el,data_key),existing_widget||(widget=new widget_class(el,options),$.data(el,data_key)||$.data(el,data_key,widget),widget._init());return $el},destroyWidget=function($el){var data_key,el,i,len,results,widget;data_key=getDataKey(),results=[];for(i=0,len=$el.length;i<len;i++)el=$el[i],widget=getWidgetData(el,data_key),widget&&widget.destroy(),results.push($.removeData(el,data_key));return results},callFunction=function($el,function_name,args){var el,i,len,result,widget,widget_function;result=null;for(i=0,len=$el.length;i<len;i++)el=$el[i],widget=$.data(el,getDataKey()),widget&&widget instanceof SimpleWidget&&(widget_function=widget[function_name],widget_function&&typeof widget_function=="function"&&(result=widget_function.apply(widget,args)));return result},$.fn[widget_name]=function(){var $el,args,argument1,function_name,options;argument1=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[],$el=this;if(argument1===void 0||typeof argument1=="object")return options=argument1,createWidget($el,options);if(typeof argument1=="string"&&argument1[0]!=="_")return function_name=argument1,function_name==="destroy"?destroyWidget($el):function_name==="get_widget_class"?widget_class:callFunction($el,function_name,args)}},SimpleWidget}(),module.exports=SimpleWidget},{}],11:[function(require,module,exports){var $,BorderDropHint,DragAndDropHandler,DragElement,ElementsRenderer,FolderElement,GhostDropHint,HitAreasGenerator,JqTreeWidget,KeyHandler,MouseWidget,Node,NodeElement,Position,SaveStateHandler,ScrollHandler,SelectNodeHandler,SimpleWidget,__version__,drag_and_drop_handler,node_module,ref,util_module,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;__version__=require("./version"),drag_and_drop_handler=require("./drag_and_drop_handler"),ElementsRenderer=require("./elements_renderer"),KeyHandler=require("./key_handler"),MouseWidget=require("./mouse.widget"),SaveStateHandler=require("./save_state_handler"),ScrollHandler=require("./scroll_handler"),SelectNodeHandler=require("./select_node_handler"),SimpleWidget=require("./simple.widget"),node_module=require("./node"),Node=node_module.Node,Position=node_module.Position,util_module=require("./util"),ref=require("./node_element"),BorderDropHint=ref.BorderDropHint,FolderElement=ref.FolderElement,GhostDropHint=ref.GhostDropHint,NodeElement=ref.NodeElement,DragAndDropHandler=drag_and_drop_handler.DragAndDropHandler,DragElement=drag_and_drop_handler.DragElement,HitAreasGenerator=drag_and_drop_handler.HitAreasGenerator,$=jQuery,JqTreeWidget=function(superClass){function JqTreeWidget(){return JqTreeWidget.__super__.constructor.apply(this,arguments)}return extend(JqTreeWidget,superClass),JqTreeWidget.prototype.BorderDropHint=BorderDropHint,JqTreeWidget.prototype.DragElement=DragElement,JqTreeWidget.prototype.DragAndDropHandler=DragAndDropHandler,JqTreeWidget.prototype.ElementsRenderer=ElementsRenderer,JqTreeWidget.prototype.GhostDropHint=GhostDropHint,JqTreeWidget.prototype.HitAreasGenerator=HitAreasGenerator,JqTreeWidget.prototype.Node=Node,JqTreeWidget.prototype.SaveStateHandler=SaveStateHandler,JqTreeWidget.prototype.ScrollHandler=ScrollHandler,JqTreeWidget.prototype.SelectNodeHandler=SelectNodeHandler,JqTreeWidget.prototype.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,dataUrl:null,closedIcon:null,openedIcon:"&#x25bc;",slide:!0,nodeClass:Node,dataFilter:null,keyboardSupport:!0,openFolderDelay:500,rtl:null,onDragMove:null,onDragStop:null,buttonLeft:!0,onLoading:null},JqTreeWidget.prototype.toggle=function(node,slide){return slide==null&&(slide=null),slide===null&&(slide=this.options.slide),node.is_open?this.closeNode(node,slide):this.openNode(node,slide),this.element},JqTreeWidget.prototype.getTree=function(){return this.tree},JqTreeWidget.prototype.selectNode=function(node){return this._selectNode(node,!1),this.element},JqTreeWidget.prototype._selectNode=function(node,must_toggle){var canSelect,deselected_node,openParents,saveState;must_toggle==null&&(must_toggle=!1);if(!this.select_node_handler)return;canSelect=function(_this){return function(){return _this.options.onCanSelectNode?_this.options.selectable&&_this.options.onCanSelectNode(node):_this.options.selectable}}(this),openParents=function(_this){return function(){var parent;parent=node.parent;if(parent&&parent.parent&&!parent.is_open)return _this.openNode(parent,!1)}}(this),saveState=function(_this){return function(){if(_this.options.saveState)return _this.save_state_handler.saveState()}}(this);if(!node){this._deselectCurrentNode(),saveState();return}if(!canSelect())return;return this.select_node_handler.isNodeSelected(node)?must_toggle&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:node})):(deselected_node=this.getSelectedNode(),this._deselectCurrentNode(),this.addToSelection(node),this._triggerEvent("tree.select",{node:node,deselected_node:deselected_node}),openParents()),saveState()},JqTreeWidget.prototype.getSelectedNode=function(){return this.select_node_handler?this.select_node_handler.getSelectedNode():null},JqTreeWidget.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},JqTreeWidget.prototype.loadData=function(data,parent_node){return this._loadData(data,parent_node),this.element},JqTreeWidget.prototype.loadDataFromUrl=function(param1,param2,param3){return $.type(param1)==="string"?this._loadDataFromUrl(param1,param2,param3):this._loadDataFromUrl(null,param1,param2),this.element},JqTreeWidget.prototype.reload=function(on_finished){return this._loadDataFromUrl(null,null,on_finished),this.element},JqTreeWidget.prototype._loadDataFromUrl=function(url_info,parent_node,on_finished){var $el,addLoadingClass,handeLoadData,handleError,handleSuccess,loadDataFromUrlInfo,parseUrlInfo,removeLoadingClass;$el=null,addLoadingClass=function(_this){return function(){return parent_node?$el=$(parent_node.element):$el=_this.element,$el.addClass("jqtree-loading"),_this._notifyLoading(!0,parent_node,$el)}}(this),removeLoadingClass=function(_this){return function(){if($el)return $el.removeClass("jqtree-loading"),_this._notifyLoading(!1,parent_node,$el)}}(this),parseUrlInfo=function(){return $.type(url_info)==="string"?{url:url_info}:(url_info.method||(url_info.method="get"),url_info)},handeLoadData=function(_this){return function(data){removeLoadingClass(),_this._loadData(data,parent_node);if(on_finished&&$.isFunction(on_finished))return on_finished()}}(this),handleSuccess=function(_this){return function(response){var data;return $.isArray(response)||typeof response=="object"?data=response:data!=null?data=$.parseJSON(response):data=[],_this.options.dataFilter&&(data=_this.options.dataFilter(data)),handeLoadData(data)}}(this),handleError=function(_this){return function(response){removeLoadingClass();if(_this.options.onLoadFailed)return _this.options.onLoadFailed(response)}}(this),loadDataFromUrlInfo=function(){return url_info=parseUrlInfo(),$.ajax($.extend({},url_info,{method:url_info.method!=null?url_info.method.toUpperCase():"GET",cache:!1,dataType:"json",success:handleSuccess,error:handleError}))},url_info||(url_info=this._getDataUrlInfo(parent_node)),addLoadingClass(),url_info?$.isArray(url_info)?handeLoadData(url_info):loadDataFromUrlInfo():removeLoadingClass()},JqTreeWidget.prototype._loadData=function(data,parent_node){var deselectNodes,loadSubtree;parent_node==null&&(parent_node=null),deselectNodes=function(_this){return function(){var i,len,n,selected_nodes_under_parent;if(_this.select_node_handler){selected_nodes_under_parent=_this.select_node_handler.getSelectedNodesUnder(parent_node);for(i=0,len=selected_nodes_under_parent.length;i<len;i++)n=selected_nodes_under_parent[i],_this.select_node_handler.removeFromSelection(n)}return null}}(this),loadSubtree=function(_this){return function(){return parent_node.loadFromData(data),parent_node.load_on_demand=!1,parent_node.is_loading=!1,_this._refreshElements(parent_node)}}(this);if(!data)return;this._triggerEvent("tree.load_data",{tree_data:data}),parent_node?(deselectNodes(),loadSubtree()):this._initTree(data);if(this.isDragging())return this.dnd_handler.refresh()},JqTreeWidget.prototype.getNodeById=function(node_id){return this.tree.getNodeById(node_id)},JqTreeWidget.prototype.getNodeByName=function(name){return this.tree.getNodeByName(name)},JqTreeWidget.prototype.getNodesByProperty=function(key,value){return this.tree.getNodesByProperty(key,value)},JqTreeWidget.prototype.getNodeByHtmlElement=function(element){return this._getNode($(element))},JqTreeWidget.prototype.getNodeByCallback=function(callback){return this.tree.getNodeByCallback(callback)},JqTreeWidget.prototype.openNode=function(node,slide){return slide==null&&(slide=null),slide===null&&(slide=this.options.slide),this._openNode(node,slide),this.element},JqTreeWidget.prototype._openNode=function(node,slide,on_finished){var doOpenNode,parent;slide==null&&(slide=!0),doOpenNode=function(_this){return function(_node,_slide,_on_finished){var folder_element;return folder_element=new FolderElement(_node,_this),folder_element.open(_on_finished,_slide)}}(this);if(node.isFolder()){if(node.load_on_demand)return this._loadFolderOnDemand(node,slide,on_finished);parent=node.parent;while(parent)parent.parent&&doOpenNode(parent,!1,null),parent=parent.parent;return doOpenNode(node,slide,on_finished),this._saveState()}},JqTreeWidget.prototype._loadFolderOnDemand=function(node,slide,on_finished){return slide==null&&(slide=!0),node.is_loading=!0,this._loadDataFromUrl(null,node,function(_this){return function(){return _this._openNode(node,slide,on_finished)}}(this))},JqTreeWidget.prototype.closeNode=function(node,slide){return slide==null&&(slide=null),slide===null&&(slide=this.options.slide),node.isFolder()&&((new FolderElement(node,this)).close(slide),this._saveState()),this.element},JqTreeWidget.prototype.isDragging=function(){return this.dnd_handler?this.dnd_handler.is_dragging:!1},JqTreeWidget.prototype.refreshHitAreas=function(){return this.dnd_handler.refresh(),this.element},JqTreeWidget.prototype.addNodeAfter=function(new_node_info,existing_node){var new_node;return new_node=existing_node.addAfter(new_node_info),this._refreshElements(existing_node.parent),new_node},JqTreeWidget.prototype.addNodeBefore=function(new_node_info,existing_node){var new_node;return new_node=existing_node.addBefore(new_node_info),this._refreshElements(existing_node.parent),new_node},JqTreeWidget.prototype.addParentNode=function(new_node_info,existing_node){var new_node;return new_node=existing_node.addParent(new_node_info),this._refreshElements(new_node.parent),new_node},JqTreeWidget.prototype.removeNode=function(node){var parent;return parent=node.parent,parent&&(this.select_node_handler.removeFromSelection(node,!0),node.remove(),this._refreshElements(parent)),this.element},JqTreeWidget.prototype.appendNode=function(new_node_info,parent_node){var node;return parent_node=parent_node||this.tree,node=parent_node.append(new_node_info),this._refreshElements(parent_node),node},JqTreeWidget.prototype.prependNode=function(new_node_info,parent_node){var node;return parent_node||(parent_node=this.tree),node=parent_node.prepend(new_node_info),this._refreshElements(parent_node),node},JqTreeWidget.prototype.updateNode=function(node,data){var id_is_changed;return id_is_changed=data.id&&data.id!==node.id,id_is_changed&&this.tree.removeNodeFromIndex(node),node.setData(data),id_is_changed&&this.tree.addNodeToIndex(node),typeof data=="object"&&data.children&&data.children.length&&(node.removeChildren(),node.loadFromData(data.children)),this.renderer.renderFromNode(node),this._selectCurrentNode(),this.element},JqTreeWidget.prototype.moveNode=function(node,target_node,position){var position_index;return position_index=Position.nameToIndex(position),this.tree.moveNode(node,target_node,position_index),this._refreshElements(),this.element},JqTreeWidget.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()},JqTreeWidget.prototype.addToSelection=function(node){return node&&(this.select_node_handler.addToSelection(node),this._getNodeElementForNode(node).select(),this._saveState()),this.element},JqTreeWidget.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()},JqTreeWidget.prototype.isNodeSelected=function(node){return this.select_node_handler.isNodeSelected(node)},JqTreeWidget.prototype.removeFromSelection=function(node){return this.select_node_handler.removeFromSelection(node),this._getNodeElementForNode(node).deselect(),this._saveState(),this.element},JqTreeWidget.prototype.scrollToNode=function(node){var $element,top;return $element=$(node.element),top=$element.offset().top-this.$el.offset().top,this.scroll_handler.scrollTo(top),this.element},JqTreeWidget.prototype.getState=function(){return this.save_state_handler.getState()},JqTreeWidget.prototype.setState=function(state){return this.save_state_handler.setInitialState(state),this._refreshElements(),this.element},JqTreeWidget.prototype.setOption=function(option,value){return this.options[option]=value,this.element},JqTreeWidget.prototype.moveDown=function(){return this.key_handler&&this.key_handler.moveDown(),this.element},JqTreeWidget.prototype.moveUp=function(){return this.key_handler&&this.key_handler.moveUp(),this.element},JqTreeWidget.prototype.getVersion=function(){return __version__},JqTreeWidget.prototype._init=function(){JqTreeWidget.__super__._init.call(this),this.element=this.$el,this.mouse_delay=300,this.is_initialized=!1,this.options.rtl=this._getRtlOption(),this.options.closedIcon||(this.options.closedIcon=this._getDefaultClosedIcon()),this.renderer=new ElementsRenderer(this),SaveStateHandler!=null?this.save_state_handler=new SaveStateHandler(this):this.options.saveState=!1,SelectNodeHandler!=null&&(this.select_node_handler=new SelectNodeHandler(this)),DragAndDropHandler!=null?this.dnd_handler=new DragAndDropHandler(this):this.options.dragAndDrop=!1,ScrollHandler!=null&&(this.scroll_handler=new ScrollHandler(this)),KeyHandler!=null&&SelectNodeHandler!=null&&(this.key_handler=new KeyHandler(this)),this._initData(),this.element.click($.proxy(this._click,this)),this.element.dblclick($.proxy(this._dblclick,this));if(this.options.useContextMenu)return this.element.bind("contextmenu",$.proxy(this._contextmenu,this))},JqTreeWidget.prototype._deinit=function(){return this.element.empty(),this.element.unbind(),this.key_handler&&this.key_handler.deinit(),this.tree=null,JqTreeWidget.__super__._deinit.call(this)},JqTreeWidget.prototype._initData=function(){return this.options.data?this._loadData(this.options.data):this._loadDataFromUrl(this._getDataUrlInfo())},JqTreeWidget.prototype._getDataUrlInfo=function(node){var data_url,getUrlFromString;return data_url=this.options.dataUrl||this.element.data("url"),getUrlFromString=function(_this){return function(){var data,selected_node_id,url_info;return url_info={url:data_url},node&&node.id?(data={node:node.id},url_info.data=data):(selected_node_id=_this._getNodeIdToBeSelected(),selected_node_id&&(data={selected_node:selected_node_id},url_info.data=data)),url_info}}(this),$.isFunction(data_url)?data_url(node):$.type(data_url)==="string"?getUrlFromString():data_url},JqTreeWidget.prototype._getNodeIdToBeSelected=function(){return this.options.saveState?this.save_state_handler.getNodeIdToBeSelected():null},JqTreeWidget.prototype._initTree=function(data){var doInit,must_load_on_demand;return doInit=function(_this){return function(){if(!_this.is_initialized)return _this.is_initialized=!0,_this._triggerEvent("tree.init")}}(this),this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass),this.select_node_handler&&this.select_node_handler.clear(),this.tree.loadFromData(data),must_load_on_demand=this._setInitialState(),this._refreshElements(),must_load_on_demand?this._setInitialStateOnDemand(doInit):doInit()},JqTreeWidget.prototype._setInitialState=function(){var autoOpenNodes,is_restored,must_load_on_demand,ref1,restoreState;return restoreState=function(_this){return function(){var must_load_on_demand,state;return!_this.options.saveState||!_this.save_state_handler?[!1,!1]:(state=_this.save_state_handler.getStateFromStorage(),state?(must_load_on_demand=_this.save_state_handler.setInitialState(state),[!0,must_load_on_demand]):[!1,!1])}}(this),autoOpenNodes=function(
_this){return function(){var max_level,must_load_on_demand;return _this.options.autoOpen===!1?!1:(max_level=_this._getAutoOpenMaxLevel(),must_load_on_demand=!1,_this.tree.iterate(function(node,level){return node.load_on_demand?(must_load_on_demand=!0,!1):node.hasChildren()?(node.is_open=!0,level!==max_level):!1}),must_load_on_demand)}}(this),ref1=restoreState(),is_restored=ref1[0],must_load_on_demand=ref1[1],is_restored||(must_load_on_demand=autoOpenNodes()),must_load_on_demand},JqTreeWidget.prototype._setInitialStateOnDemand=function(cb_finished){var autoOpenNodes,restoreState;restoreState=function(_this){return function(){var state;return!_this.options.saveState||!_this.save_state_handler?!1:(state=_this.save_state_handler.getStateFromStorage(),state?(_this.save_state_handler.setInitialStateOnDemand(state,cb_finished),!0):!1)}}(this),autoOpenNodes=function(_this){return function(){var loadAndOpenNode,loading_count,max_level,openNodes;return max_level=_this._getAutoOpenMaxLevel(),loading_count=0,loadAndOpenNode=function(node){return loading_count+=1,_this._openNode(node,!1,function(){return loading_count-=1,openNodes()})},openNodes=function(){_this.tree.iterate(function(node,level){return node.load_on_demand?(node.is_loading||loadAndOpenNode(node),!1):(_this._openNode(node,!1),level!==max_level)});if(loading_count===0)return cb_finished()},openNodes()}}(this);if(!restoreState())return autoOpenNodes()},JqTreeWidget.prototype._getAutoOpenMaxLevel=function(){return this.options.autoOpen===!0?-1:parseInt(this.options.autoOpen)},JqTreeWidget.prototype._refreshElements=function(from_node){return from_node==null&&(from_node=null),this.renderer.render(from_node),this._triggerEvent("tree.refresh")},JqTreeWidget.prototype._click=function(e){var click_target,event,node;click_target=this._getClickTarget(e.target);if(click_target){if(click_target.type==="button")return this.toggle(click_target.node,this.options.slide),e.preventDefault(),e.stopPropagation();if(click_target.type==="label"){node=click_target.node,event=this._triggerEvent("tree.click",{node:node,click_event:e});if(!event.isDefaultPrevented())return this._selectNode(node,!0)}}},JqTreeWidget.prototype._dblclick=function(e){var click_target;click_target=this._getClickTarget(e.target);if(click_target&&click_target.type==="label")return this._triggerEvent("tree.dblclick",{node:click_target.node,click_event:e})},JqTreeWidget.prototype._getClickTarget=function(element){var $button,$el,$target,node;$target=$(element),$button=$target.closest(".jqtree-toggler");if($button.length){node=this._getNode($button);if(node)return{type:"button",node:node}}else{$el=$target.closest(".jqtree-element");if($el.length){node=this._getNode($el);if(node)return{type:"label",node:node}}}return null},JqTreeWidget.prototype._getNode=function($element){var $li;return $li=$element.closest("li.jqtree_common"),$li.length===0?null:$li.data("node")},JqTreeWidget.prototype._getNodeElementForNode=function(node){return node.isFolder()?new FolderElement(node,this):new NodeElement(node,this)},JqTreeWidget.prototype._getNodeElement=function($element){var node;return node=this._getNode($element),node?this._getNodeElementForNode(node):null},JqTreeWidget.prototype._contextmenu=function(e){var $div,node;$div=$(e.target).closest("ul.jqtree-tree .jqtree-element");if($div.length){node=this._getNode($div);if(node)return e.preventDefault(),e.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:node,click_event:e}),!1}},JqTreeWidget.prototype._saveState=function(){if(this.options.saveState)return this.save_state_handler.saveState()},JqTreeWidget.prototype._mouseCapture=function(position_info){return this.options.dragAndDrop?this.dnd_handler.mouseCapture(position_info):!1},JqTreeWidget.prototype._mouseStart=function(position_info){return this.options.dragAndDrop?this.dnd_handler.mouseStart(position_info):!1},JqTreeWidget.prototype._mouseDrag=function(position_info){var result;return this.options.dragAndDrop?(result=this.dnd_handler.mouseDrag(position_info),this.scroll_handler&&this.scroll_handler.checkScrolling(),result):!1},JqTreeWidget.prototype._mouseStop=function(position_info){return this.options.dragAndDrop?this.dnd_handler.mouseStop(position_info):!1},JqTreeWidget.prototype._triggerEvent=function(event_name,values){var event;return event=$.Event(event_name),$.extend(event,values),this.element.trigger(event),event},JqTreeWidget.prototype.testGenerateHitAreas=function(moving_node){return this.dnd_handler.current_item=this._getNodeElementForNode(moving_node),this.dnd_handler.generateHitAreas(),this.dnd_handler.hit_areas},JqTreeWidget.prototype._selectCurrentNode=function(){var node,node_element;node=this.getSelectedNode();if(node){node_element=this._getNodeElementForNode(node);if(node_element)return node_element.select()}},JqTreeWidget.prototype._deselectCurrentNode=function(){var node;node=this.getSelectedNode();if(node)return this.removeFromSelection(node)},JqTreeWidget.prototype._getDefaultClosedIcon=function(){return this.options.rtl?"&#x25c0;":"&#x25ba;"},JqTreeWidget.prototype._getRtlOption=function(){var data_rtl;return this.options.rtl!==null?this.options.rtl:(data_rtl=this.element.data("rtl"),data_rtl!=null&&data_rtl!==!1?!0:!1)},JqTreeWidget.prototype._notifyLoading=function(is_loading,node,$el){if(this.options.onLoading)return this.options.onLoading(is_loading,node,$el)},JqTreeWidget}(MouseWidget),JqTreeWidget.getModule=function(name){var modules;return modules={node:node_module,util:util_module,drag_and_drop_handler:drag_and_drop_handler},modules[name]},SimpleWidget.register(JqTreeWidget,"tree")},{"./drag_and_drop_handler":1,"./elements_renderer":2,"./key_handler":3,"./mouse.widget":4,"./node":5,"./node_element":6,"./save_state_handler":7,"./scroll_handler":8,"./select_node_handler":9,"./simple.widget":10,"./util":12,"./version":13}],12:[function(require,module,exports){var _indexOf,getBoolString,html_escape,indexOf,isInt;_indexOf=function(array,item){var i,j,len,value;for(i=j=0,len=array.length;j<len;i=++j){value=array[i];if(value===item)return i}return-1},indexOf=function(array,item){return array.indexOf?array.indexOf(item):_indexOf(array,item)},isInt=function(n){return typeof n=="number"&&n%1===0},html_escape=function(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getBoolString=function(value){return value?"true":"false"},module.exports={_indexOf:_indexOf,getBoolString:getBoolString,html_escape:html_escape,indexOf:indexOf,isInt:isInt}},{}],13:[function(require,module,exports){module.exports="1.3.4"},{}]},{},[11]);